# ./argocd/twinx/apps/ovas/03-core-services/applications-ui/values.yaml
global:
  ingress:
    annotations:
      nginx.ingress.kubernetes.io/proxy-body-size: "0"
      nginx.ingress.kubernetes.io/proxy-read-timeout: "600"
      nginx.ingress.kubernetes.io/proxy-send-timeout: "600"
      # Ingress Controller를 NGINX로 지정합니다.
      className: nginx
      kubernetes.io/ingress.class: "nginx"
      nginx.ingress.kubernetes.io/enable-cors: "true"
      nginx.ingress.kubernetes.io/cors-allow-origin: "*"
      nginx.ingress.kubernetes.io/cors-allow-methods: "GET, POST, OPTIONS, PUT, DELETE"
      nginx.ingress.kubernetes.io/cors-allow-headers: "Content-Type, Authorization"
  # 레지스트리 시크릿은 그대로 사용합니다.
  imagePullSecrets:
   - name: regcred

applications:
  ingress:
    # === 가장 중요한 변경점 ===
    # 루트('/') 경로 대신 이 애플리케이션의 고유 경로를 지정하여 충돌을 방지합니다.
    path: "/"
    pathType: Prefix
    enabled: true

  serviceConfig:
    root_path: ""
    # 위 ingress.path와 이 prefix_url이 일치하는 것이 좋습니다.
    prefix_url: ""

  image:
    repository: "nvcr.io/nvidia/omniverse/kit-appstreaming-applications"
    pullPolicy: Always
    tag: 1.10.1

  applications: {}
  profiles: {}

  monitoring:
    enabled: false
    prometheusNamespace: "monitoring"

