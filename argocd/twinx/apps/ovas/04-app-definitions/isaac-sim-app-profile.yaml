# ./argocd/twinx/apps/ovas/04-app-definitions/isaac-sim-app-profile.yaml
apiVersion: omniverse.nvidia.com/v1
kind: ApplicationProfile
metadata:
  name: isaac-sim-omni-connect
spec:
  name: Isaac Sim with Omni Connection
  description: High-performance profile for Isaac Sim with pre-configured Omniverse connection.
  supportedApplications:
    - name: "isaac-sim"
      versions:
        - "*"
  chartMappings:
    container: streamingKit.image.repository
    container_version: streamingKit.image.tag
    name: streamingKit.name
  chartValues:
    global:
      imagePullSecrets:
        - name: regcred
    streamingKit:
      image:
        # isaac-sim-app-ver.yaml 파일에 정의된 컨테이너 정보를 명시합니다.
        repository: nvcr.io/nvidia/isaac-sim
        pullPolicy: Always
        tag: '5.0.0'

      service:
        type: "LoadBalancer"
      resources:
        limits:
          cpu: "12"
          memory: "48Gi"
          nvidia.com/gpu: "1"
        requests:
          nvidia.com/gpu: "1"

      nodeSelector:
        NodeGroup: gpu
